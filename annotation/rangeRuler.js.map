{"version":3,"file":"rangeRuler.js","sources":["../../src/annotation/rangeRuler.ts"],"sourcesContent":[null],"names":["component","prop","fn","label","flip","render","data","selection","select","props","crispX","halfPixel","x","crispY0","y0","crispY1","y1","middleY","d","Number","dotRadius","line","selectAll","join","classed","attr","top","bottom","marks","append","offset","style","text","formatNumber","each","g","textNode","node","textContour","empty","clonedNode","cloneNode","contourNode","Element","insertBefore","textContent","removeStroke","total","concat","totalNode","totalContour","clonedTotalNode"],"mappings":"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"}