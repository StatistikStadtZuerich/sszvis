!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("ramda"),require("radium"),require("../../components/Specimen/Specimen.js")):"function"==typeof define&&define.amd?define(["react","ramda","radium","../../components/Specimen/Specimen.js"],t):e.ProjectSpecimen=t(e.Catalog.React,e.Catalog.R,e.Catalog.Radium,e.Catalog.Specimen)}(this,function(e,t,r,n){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}function a(e,t){return t={exports:{}},e(t,t.exports),t.exports}function s(e){if(e){var t=e.width,r=e.height;return"number"==typeof r&&(r+="px"),"number"==typeof t&&(t+="px"),{width:t,height:r}}return null}function o(e,t){var r=t.fontSize,n=t.verticalUnits;return{fontSize:r+"px",lineHeight:n*e.baseVerticalUnit/r+"em"}}function d(e){var t=e.base,r=e.ratios,n=e.length,i=[t];return Array(n).fill().map(function(){var e=i[i.length-1];i.push(e*r)}),i.reverse()}function l(e,t){var r=t.level,n={color:e.textColor,fontFamily:e.fontFamily,fontStyle:"normal",fontWeight:400},i=d({base:e.baseFontSize-4,ratios:e.msRatio,length:3});return ai({},n,o(e,{fontSize:i[r],verticalUnits:i[r]/2.5}))}function f(e){return{color:e.linkColor,textDecoration:"none",":hover":{textDecoration:"underline"}}}function u(e){return{button:ai({},l(e,{level:2}),{background:"#eee",color:e.brandColor,borderBottom:"none",cursor:"pointer",display:"inline-block",float:"left",textAlign:"center",minWidth:120,padding:10,borderRight:"1px solid transparent",":focus":{outline:"none"}}),active:{background:"white",borderRight:"1px solid #eee"},source:ai({},l(e,{level:3}),{fontWeight:400,background:"#fff",borderLeft:"none",borderBottom:"none",borderRight:"none",borderTop:"1px solid #eee",color:e.textColor,fontFamily:e.fontMono,lineHeight:1.4,clear:"both",display:"block",padding:20,height:"50vh",width:"100%",boxSizing:"border-box",":focus":{outline:"none"}})}}function h(e){return{container:{marginTop:"15px",marginBottom:"30px",overflow:"auto",flexBasis:"100%"},frame:{boxSizing:"border-box",border:"1px solid #eee",display:"block",marginBottom:20},tabBar:{border:"1px solid #eee",minHeight:41},link:ai({},l(e,{level:2}),f(e),{padding:"10px 20px",color:e.linkColor,display:"inline-block",float:"right"})}}var c="default"in e?e.default:e;t="default"in t?t.default:t,r="default"in r?r.default:r,n="default"in n?n.default:n;var p=a(function(e,t){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e,t){for(var n,i,a,s,o,d,l,f="",u=0;u<e.length;)n=e.charCodeAt(u++),i=e.charCodeAt(u++),a=e.charCodeAt(u++),s=n>>2,o=(3&n)<<4|i>>4,d=(15&i)<<2|a>>6,l=63&a,isNaN(i)?d=l=64:isNaN(a)&&(l=64),f=f+r.charAt(s)+r.charAt(o)+r.charAt(d)+r.charAt(l);return f},t.decode=function(e,t){var n,i,a,s,o,d,l,f="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)s=r.indexOf(e.charAt(u++)),o=r.indexOf(e.charAt(u++)),d=r.indexOf(e.charAt(u++)),l=r.indexOf(e.charAt(u++)),n=s<<2|o>>4,i=(15&o)<<4|d>>2,a=(3&d)<<6|l,f+=String.fromCharCode(n),64!=d&&(f+=String.fromCharCode(i)),64!=l&&(f+=String.fromCharCode(a));return f}}),_=i(p),m=p.decode,g=p.encode,b=Object.freeze({default:_,decode:m,encode:g}),y=a(function(e,t){if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer="undefined"!=typeof Buffer,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var r=new ArrayBuffer(0);try{t.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=new n;i.append(r),t.blob=0===i.getBlob("application/zip").size}catch(e){t.blob=!1}}}}),w=i(y),v=y.blob,k=y.uint8array,x=y.nodebuffer,E=y.arraybuffer,S=y.string,z=y.array,A=y.base64,C=Object.freeze({default:w,blob:v,uint8array:k,nodebuffer:x,arraybuffer:E,string:S,array:z,base64:A}),O=a(function(e,t){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)return void e.set(t.subarray(r,r+n),i);for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){var t,r,n,i,a,s;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(s=new Uint8Array(n),i=0,t=0,r=e.length;t<r;t++)a=e[t],s.set(a,i),i+=a.length;return s}},i={arraySet:function(e,t,r,n,i){for(var a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(r)}),T=i(O),R=O.setTyped,I=O.Buf32,B=O.Buf16,D=O.Buf8,L=O.shrinkBuf,N=O.assign,F=Object.freeze({default:T,setTyped:R,Buf32:I,Buf16:B,Buf8:D,shrinkBuf:L,assign:N}),Z=a(function(e,t){function r(e){for(var t=e.length;--t>=0;)e[t]=0}function n(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function a(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function s(e){return e<256?le[e]:le[256+(e>>>7)]}function o(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function d(e,t,r){e.bi_valid>G-r?(e.bi_buf|=t<<e.bi_valid&65535,o(e,e.bi_buf),e.bi_buf=t>>G-e.bi_valid,e.bi_valid+=r-G):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function l(e,t,r){d(e,r[2*t],r[2*t+1])}function f(e,t){var r=0;do r|=1&e,e>>>=1,r<<=1;while(--t>0);return r>>>1}function u(e){16===e.bi_valid?(o(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function h(e,t){var r,n,i,a,s,o,d=t.dyn_tree,l=t.max_code,f=t.stat_desc.static_tree,u=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,c=t.stat_desc.extra_base,p=t.stat_desc.max_length,_=0;for(a=0;a<=W;a++)e.bl_count[a]=0;for(d[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<q;r++)n=e.heap[r],a=d[2*d[2*n+1]+1]+1,a>p&&(a=p,_++),d[2*n+1]=a,n>l||(e.bl_count[a]++,s=0,n>=c&&(s=h[n-c]),o=d[2*n],e.opt_len+=o*(a+s),u&&(e.static_len+=o*(f[2*n+1]+s)));if(0!==_){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,_-=2}while(_>0);for(a=p;0!==a;a--)for(n=e.bl_count[a];0!==n;)i=e.heap[--r],i>l||(d[2*i+1]!==a&&(e.opt_len+=(a-d[2*i+1])*d[2*i],d[2*i+1]=a),n--)}}function c(e,t,r){var n,i,a=new Array(W+1),s=0;for(n=1;n<=W;n++)a[n]=s=s+r[n-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=f(a[o]++,o))}}function p(){var e,t,r,i,a,s=new Array(W+1);for(r=0,i=0;i<H-1;i++)for(ue[i]=r,e=0;e<1<<re[i];e++)fe[r++]=i;for(fe[r-1]=i,a=0,i=0;i<16;i++)for(he[i]=a,e=0;e<1<<ne[i];e++)le[a++]=i;for(a>>=7;i<V;i++)for(he[i]=a<<7,e=0;e<1<<ne[i]-7;e++)le[256+a++]=i;for(t=0;t<=W;t++)s[t]=0;for(e=0;e<=143;)oe[2*e+1]=8,e++,s[8]++;for(;e<=255;)oe[2*e+1]=9,e++,s[9]++;for(;e<=279;)oe[2*e+1]=7,e++,s[7]++;for(;e<=287;)oe[2*e+1]=8,e++,s[8]++;for(c(oe,Y+1,s),e=0;e<V;e++)de[2*e+1]=5,de[2*e]=f(e,5);ce=new n(oe,re,X+1,Y,W),pe=new n(de,ne,0,V,W),_e=new n(new Array(0),ie,0,K,$)}function _(e){var t;for(t=0;t<Y;t++)e.dyn_ltree[2*t]=0;for(t=0;t<V;t++)e.dyn_dtree[2*t]=0;for(t=0;t<K;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*J]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function m(e){e.bi_valid>8?o(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function g(e,t,r,n){m(e),n&&(o(e,r),o(e,~r)),I.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}function b(e,t,r,n){var i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]}function y(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&b(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!b(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function w(e,t,r){var n,i,a,o,f=0;if(0!==e.last_lit)do n=e.pending_buf[e.d_buf+2*f]<<8|e.pending_buf[e.d_buf+2*f+1],i=e.pending_buf[e.l_buf+f],f++,0===n?l(e,i,t):(a=fe[i],l(e,a+X+1,t),o=re[a],0!==o&&(i-=ue[a],d(e,i,o)),n--,a=s(n),l(e,a,r),o=ne[a],0!==o&&(n-=he[a],d(e,n,o)));while(f<e.last_lit);l(e,J,t)}function v(e,t){var r,n,i,a=t.dyn_tree,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,d=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=q,r=0;r<d;r++)0!==a[2*r]?(e.heap[++e.heap_len]=l=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)i=e.heap[++e.heap_len]=l<2?++l:0,a[2*i]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=s[2*i+1]);for(t.max_code=l,r=e.heap_len>>1;r>=1;r--)y(e,a,r);i=d;do r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],y(e,a,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,a[2*i]=a[2*r]+a[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,a[2*r+1]=a[2*n+1]=i,e.heap[1]=i++,y(e,a,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],h(e,t),c(a,l,e.bl_count)}function k(e,t,r){var n,i,a=-1,s=t[1],o=0,d=7,l=4;for(0===s&&(d=138,l=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=t[2*(n+1)+1],++o<d&&i===s||(o<l?e.bl_tree[2*i]+=o:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[2*Q]++):o<=10?e.bl_tree[2*ee]++:e.bl_tree[2*te]++,o=0,a=i,0===s?(d=138,l=3):i===s?(d=6,l=3):(d=7,l=4))}function x(e,t,r){var n,i,a=-1,s=t[1],o=0,f=7,u=4;for(0===s&&(f=138,u=3),n=0;n<=r;n++)if(i=s,s=t[2*(n+1)+1],!(++o<f&&i===s)){if(o<u){do l(e,i,e.bl_tree);while(0!==--o)}else 0!==i?(i!==a&&(l(e,i,e.bl_tree),o--),l(e,Q,e.bl_tree),d(e,o-3,2)):o<=10?(l(e,ee,e.bl_tree),d(e,o-3,3)):(l(e,te,e.bl_tree),d(e,o-11,7));o=0,a=i,0===s?(f=138,u=3):i===s?(f=6,u=3):(f=7,u=4)}}function E(e){var t;for(k(e,e.dyn_ltree,e.l_desc.max_code),k(e,e.dyn_dtree,e.d_desc.max_code),v(e,e.bl_desc),t=K-1;t>=3&&0===e.bl_tree[2*ae[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function S(e,t,r,n){var i;for(d(e,t-257,5),d(e,r-1,5),d(e,n-4,4),i=0;i<n;i++)d(e,e.bl_tree[2*ae[i]+1],3);x(e,e.dyn_ltree,t-1),x(e,e.dyn_dtree,r-1)}function z(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return D;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return L;for(t=32;t<X;t++)if(0!==e.dyn_ltree[2*t])return L;return D}function A(e){me||(p(),me=!0),e.l_desc=new a(e.dyn_ltree,ce),e.d_desc=new a(e.dyn_dtree,pe),e.bl_desc=new a(e.bl_tree,_e),e.bi_buf=0,e.bi_valid=0,_(e)}function C(e,t,r,n){d(e,(Z<<1)+(n?1:0),3),g(e,t,r,!0)}function O(e){d(e,P<<1,3),l(e,J,oe),u(e)}function T(e,t,r,n){var i,a,s=0;e.level>0?(e.strm.data_type===N&&(e.strm.data_type=z(e)),v(e,e.l_desc),v(e,e.d_desc),s=E(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&t!==-1?C(e,t,r,n):e.strategy===B||a===i?(d(e,(P<<1)+(n?1:0),3),w(e,oe,de)):(d(e,(U<<1)+(n?1:0),3),S(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),w(e,e.dyn_ltree,e.dyn_dtree)),_(e),n&&m(e)}function R(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(fe[r]+X+1)]++,e.dyn_dtree[2*s(t)]++),e.last_lit===e.lit_bufsize-1}var I=i(F),B=4,D=0,L=1,N=2,Z=0,P=1,U=2,j=3,M=258,H=29,X=256,Y=X+1+H,V=30,K=19,q=2*Y+1,W=15,G=16,$=7,J=256,Q=16,ee=17,te=18,re=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=512,oe=new Array(2*(Y+2));r(oe);var de=new Array(2*V);r(de);var le=new Array(se);r(le);var fe=new Array(M-j+1);r(fe);var ue=new Array(H);r(ue);var he=new Array(V);r(he);var ce,pe,_e,me=!1;t._tr_init=A,t._tr_stored_block=C,t._tr_flush_block=T,t._tr_tally=R,t._tr_align=O}),P=i(Z),U=Z._tr_align,j=Z._tr_tally,M=Z._tr_flush_block,H=Z._tr_stored_block,X=Z._tr_init,Y=Object.freeze({default:P,_tr_align:U,_tr_tally:j,_tr_flush_block:M,_tr_stored_block:H,_tr_init:X}),V=a(function(e){function t(e,t,r,n){for(var i=65535&e|0,a=e>>>16&65535|0,s=0;0!==r;){s=r>2e3?2e3:r,r-=s;do i=i+t[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0}e.exports=t}),K=i(V),q=Object.freeze({default:K}),W=a(function(e){function t(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}function r(e,t,r,i){var a=n,s=i+r;e^=-1;for(var o=i;o<s;o++)e=e>>>8^a[255&(e^t[o])];return e^-1}var n=t();e.exports=r}),G=i(W),$=Object.freeze({default:G}),J=a(function(e){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}}),Q=i(J),ee=Object.freeze({default:Q}),te=a(function(e,t){function r(e,t){return e.msg=D[t],t}function n(e){return(e<<1)-(e>4?9:0)}function a(e){for(var t=e.length;--t>=0;)e[t]=0}function s(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(T.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function o(e,t){R._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,s(e.strm)}function d(e,t){e.pending_buf[e.pending++]=t}function l(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function f(e,t,r,n){var i=e.avail_in;return i>n&&(i=n),0===i?0:(e.avail_in-=i,T.arraySet(t,e.input,e.next_in,i,r),1===e.state.wrap?e.adler=I(e.adler,t,i,r):2===e.state.wrap&&(e.adler=B(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}function u(e,t){var r,n,i=e.max_chain_length,a=e.strstart,s=e.prev_length,o=e.nice_match,d=e.strstart>e.w_size-me?e.strstart-(e.w_size-me):0,l=e.window,f=e.w_mask,u=e.prev,h=e.strstart+_e,c=l[a+s-1],p=l[a+s];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do if(r=t,l[r+s]===p&&l[r+s-1]===c&&l[r]===l[a]&&l[++r]===l[a+1]){a+=2,r++;do;while(l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&l[++a]===l[++r]&&a<h);if(n=_e-(h-a),a=h-_e,n>s){if(e.match_start=t,s=n,n>=o)break;c=l[a+s-1],p=l[a+s]}}while((t=u[t&f])>d&&0!==--i);return s<=e.lookahead?s:e.lookahead}function h(e){var t,r,n,i,a,s=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-me)){T.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,r=e.hash_size,t=r;do n=e.head[--t],e.head[t]=n>=s?n-s:0;while(--r);r=s,t=r;do n=e.prev[--t],e.prev[t]=n>=s?n-s:0;while(--r);i+=s}if(0===e.strm.avail_in)break;if(r=f(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=r,e.lookahead+e.insert>=pe)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+pe-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<pe)););}while(e.lookahead<me&&0!==e.strm.avail_in)}function c(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(h(e),0===e.lookahead&&t===L)return Se;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,o(e,!1),0===e.strm.avail_out))return Se;if(e.strstart-e.block_start>=e.w_size-me&&(o(e,!1),0===e.strm.avail_out))return Se}return e.insert=0,t===P?(o(e,!0),0===e.strm.avail_out?Ae:Ce):e.strstart>e.block_start&&(o(e,!1),0===e.strm.avail_out)?Se:Se}function p(e,t){for(var r,n;;){if(e.lookahead<me){if(h(e),e.lookahead<me&&t===L)return Se;if(0===e.lookahead)break}if(r=0,e.lookahead>=pe&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+pe-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-me&&(e.match_length=u(e,r)),e.match_length>=pe)if(n=R._tr_tally(e,e.strstart-e.match_start,e.match_length-pe),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=pe){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+pe-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=R._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(o(e,!1),0===e.strm.avail_out))return Se}return e.insert=e.strstart<pe-1?e.strstart:pe-1,t===P?(o(e,!0),0===e.strm.avail_out?Ae:Ce):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?Se:ze}function _(e,t){for(var r,n,i;;){if(e.lookahead<me){if(h(e),e.lookahead<me&&t===L)return Se;if(0===e.lookahead)break}if(r=0,e.lookahead>=pe&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+pe-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=pe-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-me&&(e.match_length=u(e,r),e.match_length<=5&&(e.strategy===W||e.match_length===pe&&e.strstart-e.match_start>4096)&&(e.match_length=pe-1)),e.prev_length>=pe&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-pe,n=R._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-pe),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+pe-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!==--e.prev_length);if(e.match_available=0,e.match_length=pe-1,e.strstart++,n&&(o(e,!1),0===e.strm.avail_out))return Se}else if(e.match_available){if(n=R._tr_tally(e,0,e.window[e.strstart-1]),n&&o(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return Se}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=R._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<pe-1?e.strstart:pe-1,t===P?(o(e,!0),0===e.strm.avail_out?Ae:Ce):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?Se:ze}function m(e,t){for(var r,n,i,a,s=e.window;;){if(e.lookahead<=_e){if(h(e),e.lookahead<=_e&&t===L)return Se;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=pe&&e.strstart>0&&(i=e.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=e.strstart+_e;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=_e-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=pe?(r=R._tr_tally(e,1,e.match_length-pe),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=R._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(o(e,!1),0===e.strm.avail_out))return Se}return e.insert=0,t===P?(o(e,!0),0===e.strm.avail_out?Ae:Ce):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?Se:ze}function g(e,t){for(var r;;){if(0===e.lookahead&&(h(e),0===e.lookahead)){if(t===L)return Se;break}if(e.match_length=0,r=R._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(o(e,!1),0===e.strm.avail_out))return Se}return e.insert=0,t===P?(o(e,!0),0===e.strm.avail_out?Ae:Ce):e.last_lit&&(o(e,!1),0===e.strm.avail_out)?Se:ze}function b(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function y(e){e.window_size=2*e.w_size,a(e.head),e.max_lazy_match=O[e.level].max_lazy,e.good_match=O[e.level].good_length,e.nice_match=O[e.level].nice_length,e.max_chain_length=O[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=pe-1,e.match_available=0,e.ins_h=0}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ne,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new T.Buf16(2*he),this.dyn_dtree=new T.Buf16(2*(2*fe+1)),this.bl_tree=new T.Buf16(2*(2*ue+1)),a(this.dyn_ltree),a(this.dyn_dtree),a(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new T.Buf16(ce+1),this.heap=new T.Buf16(2*le+1),a(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new T.Buf16(2*le+1),a(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function v(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=re,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?be:xe,e.adler=2===t.wrap?0:1,t.last_flush=L,R._tr_init(t),j):r(e,H)}function k(e){var t=v(e);return t===j&&y(e.state),t}function x(e,t){return e&&e.state?2!==e.state.wrap?H:(e.state.gzhead=t,j):H}function E(e,t,n,i,a,s){if(!e)return H;var o=1;if(t===K&&(t=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),a<1||a>ie||n!==ne||i<8||i>15||t<0||t>9||s<0||s>Q)return r(e,H);8===i&&(i=9);var d=new w;return e.state=d,d.strm=e,d.wrap=o,d.gzhead=null,d.w_bits=i,d.w_size=1<<d.w_bits,d.w_mask=d.w_size-1,d.hash_bits=a+7,d.hash_size=1<<d.hash_bits,d.hash_mask=d.hash_size-1,d.hash_shift=~~((d.hash_bits+pe-1)/pe),d.window=new T.Buf8(2*d.w_size),d.head=new T.Buf16(d.hash_size),d.prev=new T.Buf16(d.w_size),d.lit_bufsize=1<<a+6,d.pending_buf_size=4*d.lit_bufsize,d.pending_buf=new T.Buf8(d.pending_buf_size),d.d_buf=1*d.lit_bufsize,d.l_buf=3*d.lit_bufsize,d.level=t,d.strategy=s,d.method=n,k(e)}function S(e,t){return E(e,t,ne,ae,se,te)}function z(e,t){var i,o,f,u;if(!e||!e.state||t>U||t<0)return e?r(e,H):H;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||o.status===Ee&&t!==P)return r(e,0===e.avail_out?V:H);if(o.strm=e,i=o.last_flush,o.last_flush=t,o.status===be)if(2===o.wrap)e.adler=0,d(o,31),d(o,139),d(o,8),o.gzhead?(d(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),d(o,255&o.gzhead.time),d(o,o.gzhead.time>>8&255),d(o,o.gzhead.time>>16&255),d(o,o.gzhead.time>>24&255),d(o,9===o.level?2:o.strategy>=G||o.level<2?4:0),d(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(d(o,255&o.gzhead.extra.length),d(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=B(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=ye):(d(o,0),d(o,0),d(o,0),d(o,0),d(o,0),d(o,9===o.level?2:o.strategy>=G||o.level<2?4:0),d(o,Oe),o.status=xe);else{var h=ne+(o.w_bits-8<<4)<<8,c=-1;c=o.strategy>=G||o.level<2?0:o.level<6?1:6===o.level?2:3,h|=c<<6,0!==o.strstart&&(h|=ge),h+=31-h%31,o.status=xe,l(o,h),0!==o.strstart&&(l(o,e.adler>>>16),l(o,65535&e.adler)),e.adler=1}if(o.status===ye)if(o.gzhead.extra){for(f=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>f&&(e.adler=B(e.adler,o.pending_buf,o.pending-f,f)),s(e),f=o.pending,o.pending!==o.pending_buf_size));)d(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>f&&(e.adler=B(e.adler,o.pending_buf,o.pending-f,f)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=we)}else o.status=we;if(o.status===we)if(o.gzhead.name){f=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>f&&(e.adler=B(e.adler,o.pending_buf,o.pending-f,f)),s(e),f=o.pending,o.pending===o.pending_buf_size)){u=1;break}u=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,d(o,u)}while(0!==u);o.gzhead.hcrc&&o.pending>f&&(e.adler=B(e.adler,o.pending_buf,o.pending-f,f)),0===u&&(o.gzindex=0,o.status=ve)}else o.status=ve;if(o.status===ve)if(o.gzhead.comment){f=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>f&&(e.adler=B(e.adler,o.pending_buf,o.pending-f,f)),s(e),f=o.pending,o.pending===o.pending_buf_size)){u=1;break}u=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,d(o,u)}while(0!==u);o.gzhead.hcrc&&o.pending>f&&(e.adler=B(e.adler,o.pending_buf,o.pending-f,f)),0===u&&(o.status=ke)}else o.status=ke;if(o.status===ke&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&s(e),o.pending+2<=o.pending_buf_size&&(d(o,255&e.adler),d(o,e.adler>>8&255),e.adler=0,o.status=xe)):o.status=xe),0!==o.pending){if(s(e),0===e.avail_out)return o.last_flush=-1,j}else if(0===e.avail_in&&n(t)<=n(i)&&t!==P)return r(e,V);if(o.status===Ee&&0!==e.avail_in)return r(e,V);if(0!==e.avail_in||0!==o.lookahead||t!==L&&o.status!==Ee){var p=o.strategy===G?g(o,t):o.strategy===J?m(o,t):O[o.level].func(o,t);if(p!==Ae&&p!==Ce||(o.status=Ee),p===Se||p===Ae)return 0===e.avail_out&&(o.last_flush=-1),j;if(p===ze&&(t===N?R._tr_align(o):t!==U&&(R._tr_stored_block(o,0,0,!1),t===Z&&(a(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),s(e),0===e.avail_out))return o.last_flush=-1,j}return t!==P?j:o.wrap<=0?M:(2===o.wrap?(d(o,255&e.adler),d(o,e.adler>>8&255),d(o,e.adler>>16&255),d(o,e.adler>>24&255),d(o,255&e.total_in),d(o,e.total_in>>8&255),d(o,e.total_in>>16&255),d(o,e.total_in>>24&255)):(l(o,e.adler>>>16),l(o,65535&e.adler)),s(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?j:M)}function A(e){var t;return e&&e.state?(t=e.state.status,t!==be&&t!==ye&&t!==we&&t!==ve&&t!==ke&&t!==xe&&t!==Ee?r(e,H):(e.state=null,t===xe?r(e,X):j)):H}function C(e,t){var r,n,i,s,o,d,l,f,u=t.length;if(!e||!e.state)return H;if(r=e.state,s=r.wrap,2===s||1===s&&r.status!==be||r.lookahead)return H;for(1===s&&(e.adler=I(e.adler,t,u,0)),r.wrap=0,u>=r.w_size&&(0===s&&(a(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new T.Buf8(r.w_size),T.arraySet(f,t,u-r.w_size,r.w_size,0),t=f,u=r.w_size),o=e.avail_in,d=e.next_in,l=e.input,e.avail_in=u,e.next_in=0,e.input=t,h(r);r.lookahead>=pe;){n=r.strstart,i=r.lookahead-(pe-1);do r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+pe-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++;while(--i);r.strstart=n,r.lookahead=pe-1,h(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=pe-1,r.match_available=0,e.next_in=d,e.input=l,e.avail_in=o,r.wrap=s,j}var O,T=i(F),R=i(Y),I=i(q),B=i($),D=i(ee),L=0,N=1,Z=3,P=4,U=5,j=0,M=1,H=-2,X=-3,V=-5,K=-1,W=1,G=2,J=3,Q=4,te=0,re=2,ne=8,ie=9,ae=15,se=8,oe=29,de=256,le=de+1+oe,fe=30,ue=19,he=2*le+1,ce=15,pe=3,_e=258,me=_e+pe+1,ge=32,be=42,ye=69,we=73,ve=91,ke=103,xe=113,Ee=666,Se=1,ze=2,Ae=3,Ce=4,Oe=3;O=[new b(0,0,0,0,c),new b(4,4,8,4,p),new b(4,5,16,8,p),new b(4,6,32,32,p),new b(4,4,16,16,_),new b(8,16,32,32,_),new b(8,16,128,128,_),new b(8,32,128,256,_),new b(32,128,258,1024,_),new b(32,258,258,4096,_)],t.deflateInit=S,t.deflateInit2=E,t.deflateReset=k,t.deflateResetKeep=v,t.deflateSetHeader=x,t.deflate=z,t.deflateEnd=A,t.deflateSetDictionary=C,t.deflateInfo="pako deflate (from Nodeca project)"}),re=i(te),ne=te.deflateInfo,ie=te.deflateSetDictionary,ae=te.deflateEnd,se=te.deflate,oe=te.deflateSetHeader,de=te.deflateResetKeep,le=te.deflateReset,fe=te.deflateInit2,ue=te.deflateInit,he=Object.freeze({default:re,deflateInfo:ne,deflateSetDictionary:ie,deflateEnd:ae,deflate:se,deflateSetHeader:oe,deflateResetKeep:de,deflateReset:le,deflateInit2:fe,deflateInit:ue}),ce=a(function(e,t){function r(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&a))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",i=0;i<t;i++)r+=String.fromCharCode(e[i]);return r}var n=i(F),a=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var o=new n.Buf8(256),d=0;d<256;d++)o[d]=d>=252?6:d>=248?5:d>=240?4:d>=224?3:d>=192?2:1;o[254]=o[254]=1,t.string2buf=function(e){var t,r,i,a,s,o=e.length,d=0;for(a=0;a<o;a++)r=e.charCodeAt(a),55296===(64512&r)&&a+1<o&&(i=e.charCodeAt(a+1),56320===(64512&i)&&(r=65536+(r-55296<<10)+(i-56320),a++)),d+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(d),s=0,a=0;s<d;a++)r=e.charCodeAt(a),55296===(64512&r)&&a+1<o&&(i=e.charCodeAt(a+1),56320===(64512&i)&&(r=65536+(r-55296<<10)+(i-56320),a++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|63&r):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|63&r):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|63&r);return t},t.buf2binstring=function(e){return r(e,e.length)},t.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},t.buf2string=function(e,t){var n,i,a,s,d=t||e.length,l=new Array(2*d);for(i=0,n=0;n<d;)if(a=e[n++],a<128)l[i++]=a;else if(s=o[a],s>4)l[i++]=65533,n+=s-1;else{for(a&=2===s?31:3===s?15:7;s>1&&n<d;)a=a<<6|63&e[n++],s--;s>1?l[i++]=65533:a<65536?l[i++]=a:(a-=65536,l[i++]=55296|a>>10&1023,l[i++]=56320|1023&a)}return r(l,i)},t.utf8border=function(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&128===(192&e[r]);)r--;return r<0?t:0===r?t:r+o[e[r]]>t?r:t}}),pe=i(ce),_e=ce.utf8border,me=ce.buf2string,ge=ce.binstring2buf,be=ce.buf2binstring,ye=ce.string2buf,we=Object.freeze({default:pe,utf8border:_e,buf2string:me,binstring2buf:ge,buf2binstring:be,string2buf:ye}),ve=a(function(e){function t(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=t}),ke=i(ve),xe=Object.freeze({default:ke}),Ee=a(function(e,t){function r(e){if(!(this instanceof r))return new r(e);this.options=d.assign({level:b,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=o.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==_)throw new Error(f[n]);if(t.header&&o.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(i="string"==typeof t.dictionary?l.string2buf(t.dictionary):"[object ArrayBuffer]"===h.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=o.deflateSetDictionary(this.strm,i),n!==_)throw new Error(f[n]);this._dict_set=!0}}function n(e,t){var n=new r(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function a(e,t){return t=t||{},t.raw=!0,n(e,t)}function s(e,t){return t=t||{},t.gzip=!0,n(e,t)}var o=i(he),d=i(F),l=i(we),f=i(ee),u=i(xe),h=Object.prototype.toString,c=0,p=4,_=0,m=1,g=2,b=-1,y=0,w=8;r.prototype.push=function(e,t){var r,n,i=this.strm,a=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:t===!0?p:c,"string"==typeof e?i.input=l.string2buf(e):"[object ArrayBuffer]"===h.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new d.Buf8(a),i.next_out=0,i.avail_out=a),r=o.deflate(i,n),r!==m&&r!==_)return this.onEnd(r),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||n!==p&&n!==g)||("string"===this.options.to?this.onData(l.buf2binstring(d.shrinkBuf(i.output,i.next_out))):this.onData(d.shrinkBuf(i.output,i.next_out)))}while((i.avail_in>0||0===i.avail_out)&&r!==m);return n===p?(r=o.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===_):n!==g||(this.onEnd(_),i.avail_out=0,!0)},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){e===_&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=r,t.deflate=n,t.deflateRaw=a,t.gzip=s}),Se=i(Ee),ze=Ee.gzip,Ae=Ee.deflateRaw,Ce=Ee.deflate,Oe=Ee.Deflate,Te=Object.freeze({default:Se,gzip:ze,deflateRaw:Ae,deflate:Ce,Deflate:Oe}),Re=a(function(e){var t=30,r=12;e.exports=function(e,n){
var i,a,s,o,d,l,f,u,h,c,p,_,m,g,b,y,w,v,k,x,E,S,z,A,C;i=e.state,a=e.next_in,A=e.input,s=a+(e.avail_in-5),o=e.next_out,C=e.output,d=o-(n-e.avail_out),l=o+(e.avail_out-257),f=i.dmax,u=i.wsize,h=i.whave,c=i.wnext,p=i.window,_=i.hold,m=i.bits,g=i.lencode,b=i.distcode,y=(1<<i.lenbits)-1,w=(1<<i.distbits)-1;e:do{m<15&&(_+=A[a++]<<m,m+=8,_+=A[a++]<<m,m+=8),v=g[_&y];t:for(;;){if(k=v>>>24,_>>>=k,m-=k,k=v>>>16&255,0===k)C[o++]=65535&v;else{if(!(16&k)){if(0===(64&k)){v=g[(65535&v)+(_&(1<<k)-1)];continue t}if(32&k){i.mode=r;break e}e.msg="invalid literal/length code",i.mode=t;break e}x=65535&v,k&=15,k&&(m<k&&(_+=A[a++]<<m,m+=8),x+=_&(1<<k)-1,_>>>=k,m-=k),m<15&&(_+=A[a++]<<m,m+=8,_+=A[a++]<<m,m+=8),v=b[_&w];r:for(;;){if(k=v>>>24,_>>>=k,m-=k,k=v>>>16&255,!(16&k)){if(0===(64&k)){v=b[(65535&v)+(_&(1<<k)-1)];continue r}e.msg="invalid distance code",i.mode=t;break e}if(E=65535&v,k&=15,m<k&&(_+=A[a++]<<m,m+=8,m<k&&(_+=A[a++]<<m,m+=8)),E+=_&(1<<k)-1,E>f){e.msg="invalid distance too far back",i.mode=t;break e}if(_>>>=k,m-=k,k=o-d,E>k){if(k=E-k,k>h&&i.sane){e.msg="invalid distance too far back",i.mode=t;break e}if(S=0,z=p,0===c){if(S+=u-k,k<x){x-=k;do C[o++]=p[S++];while(--k);S=o-E,z=C}}else if(c<k){if(S+=u+c-k,k-=c,k<x){x-=k;do C[o++]=p[S++];while(--k);if(S=0,c<x){k=c,x-=k;do C[o++]=p[S++];while(--k);S=o-E,z=C}}}else if(S+=c-k,k<x){x-=k;do C[o++]=p[S++];while(--k);S=o-E,z=C}for(;x>2;)C[o++]=z[S++],C[o++]=z[S++],C[o++]=z[S++],x-=3;x&&(C[o++]=z[S++],x>1&&(C[o++]=z[S++]))}else{S=o-E;do C[o++]=C[S++],C[o++]=C[S++],C[o++]=C[S++],x-=3;while(x>2);x&&(C[o++]=C[S++],x>1&&(C[o++]=C[S++]))}break}}break}}while(a<s&&o<l);x=m>>3,a-=x,m-=x<<3,_&=(1<<m)-1,e.next_in=a,e.next_out=o,e.avail_in=a<s?5+(s-a):5-(a-s),e.avail_out=o<l?257+(l-o):257-(o-l),i.hold=_,i.bits=m}}),Ie=i(Re),Be=Object.freeze({default:Ie}),De=a(function(e){var t=i(F),r=15,n=852,a=592,s=0,o=1,d=2,l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,i,c,p,_,m,g,b){var y,w,v,k,x,E,S,z,A,C=b.bits,O=0,T=0,R=0,I=0,B=0,D=0,L=0,N=0,F=0,Z=0,P=null,U=0,j=new t.Buf16(r+1),M=new t.Buf16(r+1),H=null,X=0;for(O=0;O<=r;O++)j[O]=0;for(T=0;T<p;T++)j[i[c+T]]++;for(B=C,I=r;I>=1&&0===j[I];I--);if(B>I&&(B=I),0===I)return _[m++]=20971520,_[m++]=20971520,b.bits=1,0;for(R=1;R<I&&0===j[R];R++);for(B<R&&(B=R),N=1,O=1;O<=r;O++)if(N<<=1,N-=j[O],N<0)return-1;if(N>0&&(e===s||1!==I))return-1;for(M[1]=0,O=1;O<r;O++)M[O+1]=M[O]+j[O];for(T=0;T<p;T++)0!==i[c+T]&&(g[M[i[c+T]]++]=T);if(e===s?(P=H=g,E=19):e===o?(P=l,U-=257,H=f,X-=257,E=256):(P=u,H=h,E=-1),Z=0,T=0,O=R,x=m,D=B,L=0,v=-1,F=1<<B,k=F-1,e===o&&F>n||e===d&&F>a)return 1;for(var Y=0;;){Y++,S=O-L,g[T]<E?(z=0,A=g[T]):g[T]>E?(z=H[X+g[T]],A=P[U+g[T]]):(z=96,A=0),y=1<<O-L,w=1<<D,R=w;do w-=y,_[x+(Z>>L)+w]=S<<24|z<<16|A|0;while(0!==w);for(y=1<<O-1;Z&y;)y>>=1;if(0!==y?(Z&=y-1,Z+=y):Z=0,T++,0===--j[O]){if(O===I)break;O=i[c+g[T]]}if(O>B&&(Z&k)!==v){for(0===L&&(L=B),x+=R,D=O-L,N=1<<D;D+L<I&&(N-=j[D+L],!(N<=0));)D++,N<<=1;if(F+=1<<D,e===o&&F>n||e===d&&F>a)return 1;v=Z&k,_[v]=B<<24|D<<16|x-m|0}}return 0!==Z&&(_[x+Z]=O-L<<24|64<<16|0),b.bits=B,0}}),Le=i(De),Ne=Object.freeze({default:Le}),Fe=a(function(e,t){function r(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new b.Buf16(320),this.work=new b.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function a(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Z,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new b.Buf32(be),t.distcode=t.distdyn=new b.Buf32(ye),t.sane=1,t.back=-1,O):I}function s(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,a(e)):I}function o(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15)?I:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,s(e))):I}function d(e,t){var r,i;return e?(i=new n,e.state=i,i.window=null,r=o(e,t),r!==O&&(e.state=null),r):I}function l(e){return d(e,ve)}function f(e){if(ke){var t;for(m=new b.Buf32(512),g=new b.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(k(E,e.lens,0,288,m,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;k(S,e.lens,0,32,g,0,e.work,{bits:5}),ke=!1}e.lencode=m,e.lenbits=9,e.distcode=g,e.distbits=5}function u(e,t,r,n){var i,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new b.Buf8(a.wsize)),n>=a.wsize?(b.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),b.arraySet(a.window,t,r-n,i,a.wnext),n-=i,n?(b.arraySet(a.window,t,r-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function h(e,t){var n,i,a,s,o,d,l,h,c,p,_,m,g,F,q,$,be,ye,we,ve,ke,xe,Ee,Se,ze=0,Ae=new b.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return I;n=e.state,n.mode===G&&(n.mode=J),o=e.next_out,a=e.output,l=e.avail_out,s=e.next_in,i=e.input,d=e.avail_in,h=n.hold,c=n.bits,p=d,_=l,xe=O;e:for(;;)switch(n.mode){case Z:if(0===n.wrap){n.mode=J;break}for(;c<16;){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}if(2&n.wrap&&35615===h){n.check=0,Ae[0]=255&h,Ae[1]=h>>>8&255,n.check=w(n.check,Ae,2,0),h=0,c=0,n.mode=P;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg="incorrect header check",n.mode=_e;break}if((15&h)!==N){e.msg="unknown compression method",n.mode=_e;break}if(h>>>=4,c-=4,ke=(15&h)+8,0===n.wbits)n.wbits=ke;else if(ke>n.wbits){e.msg="invalid window size",n.mode=_e;break}n.dmax=1<<ke,e.adler=n.check=1,n.mode=512&h?K:G,h=0,c=0;break;case P:for(;c<16;){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}if(n.flags=h,(255&n.flags)!==N){e.msg="unknown compression method",n.mode=_e;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=_e;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(Ae[0]=255&h,Ae[1]=h>>>8&255,n.check=w(n.check,Ae,2,0)),h=0,c=0,n.mode=U;case U:for(;c<32;){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}n.head&&(n.head.time=h),512&n.flags&&(Ae[0]=255&h,Ae[1]=h>>>8&255,Ae[2]=h>>>16&255,Ae[3]=h>>>24&255,n.check=w(n.check,Ae,4,0)),h=0,c=0,n.mode=j;case j:for(;c<16;){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(Ae[0]=255&h,Ae[1]=h>>>8&255,n.check=w(n.check,Ae,2,0)),h=0,c=0,n.mode=M;case M:if(1024&n.flags){for(;c<16;){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(Ae[0]=255&h,Ae[1]=h>>>8&255,n.check=w(n.check,Ae,2,0)),h=0,c=0}else n.head&&(n.head.extra=null);n.mode=H;case H:if(1024&n.flags&&(m=n.length,m>d&&(m=d),m&&(n.head&&(ke=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),b.arraySet(n.head.extra,i,s,m,ke)),512&n.flags&&(n.check=w(n.check,i,m,s)),d-=m,s+=m,n.length-=m),n.length))break e;n.length=0,n.mode=X;case X:if(2048&n.flags){if(0===d)break e;m=0;do ke=i[s+m++],n.head&&ke&&n.length<65536&&(n.head.name+=String.fromCharCode(ke));while(ke&&m<d);if(512&n.flags&&(n.check=w(n.check,i,m,s)),d-=m,s+=m,ke)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Y;case Y:if(4096&n.flags){if(0===d)break e;m=0;do ke=i[s+m++],n.head&&ke&&n.length<65536&&(n.head.comment+=String.fromCharCode(ke));while(ke&&m<d);if(512&n.flags&&(n.check=w(n.check,i,m,s)),d-=m,s+=m,ke)break e}else n.head&&(n.head.comment=null);n.mode=V;case V:if(512&n.flags){for(;c<16;){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}if(h!==(65535&n.check)){e.msg="header crc mismatch",n.mode=_e;break}h=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=G;break;case K:for(;c<32;){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}e.adler=n.check=r(h),h=0,c=0,n.mode=W;case W:if(0===n.havedict)return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=d,n.hold=h,n.bits=c,R;e.adler=n.check=1,n.mode=G;case G:if(t===A||t===C)break e;case J:if(n.last){h>>>=7&c,c-=7&c,n.mode=he;break}for(;c<3;){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}switch(n.last=1&h,h>>>=1,c-=1,3&h){case 0:n.mode=Q;break;case 1:if(f(n),n.mode=ae,t===C){h>>>=2,c-=2;break e}break;case 2:n.mode=re;break;case 3:e.msg="invalid block type",n.mode=_e}h>>>=2,c-=2;break;case Q:for(h>>>=7&c,c-=7&c;c<32;){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}if((65535&h)!==(h>>>16^65535)){e.msg="invalid stored block lengths",n.mode=_e;break}if(n.length=65535&h,h=0,c=0,n.mode=ee,t===C)break e;case ee:n.mode=te;case te:if(m=n.length){if(m>d&&(m=d),m>l&&(m=l),0===m)break e;b.arraySet(a,i,s,m,o),d-=m,s+=m,l-=m,o+=m,n.length-=m;break}n.mode=G;break;case re:for(;c<14;){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}if(n.nlen=(31&h)+257,h>>>=5,c-=5,n.ndist=(31&h)+1,h>>>=5,c-=5,n.ncode=(15&h)+4,h>>>=4,c-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=_e;break}n.have=0,n.mode=ne;case ne:for(;n.have<n.ncode;){for(;c<3;){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}n.lens[Ce[n.have++]]=7&h,h>>>=3,c-=3}for(;n.have<19;)n.lens[Ce[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Ee={bits:n.lenbits},xe=k(x,n.lens,0,19,n.lencode,0,n.work,Ee),n.lenbits=Ee.bits,xe){e.msg="invalid code lengths set",n.mode=_e;break}n.have=0,n.mode=ie;case ie:for(;n.have<n.nlen+n.ndist;){for(;ze=n.lencode[h&(1<<n.lenbits)-1],q=ze>>>24,$=ze>>>16&255,be=65535&ze,!(q<=c);){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}if(be<16)h>>>=q,c-=q,n.lens[n.have++]=be;else{if(16===be){for(Se=q+2;c<Se;){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}if(h>>>=q,c-=q,0===n.have){e.msg="invalid bit length repeat",n.mode=_e;break}ke=n.lens[n.have-1],m=3+(3&h),h>>>=2,c-=2}else if(17===be){for(Se=q+3;c<Se;){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}h>>>=q,c-=q,ke=0,m=3+(7&h),h>>>=3,c-=3}else{for(Se=q+7;c<Se;){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}h>>>=q,c-=q,ke=0,m=11+(127&h),h>>>=7,c-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=_e;break}for(;m--;)n.lens[n.have++]=ke}}if(n.mode===_e)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=_e;break}if(n.lenbits=9,Ee={bits:n.lenbits},xe=k(E,n.lens,0,n.nlen,n.lencode,0,n.work,Ee),n.lenbits=Ee.bits,xe){e.msg="invalid literal/lengths set",n.mode=_e;break}if(n.distbits=6,n.distcode=n.distdyn,Ee={bits:n.distbits},xe=k(S,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Ee),n.distbits=Ee.bits,xe){e.msg="invalid distances set",n.mode=_e;break}if(n.mode=ae,t===C)break e;case ae:n.mode=se;case se:if(d>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=d,n.hold=h,n.bits=c,v(e,_),o=e.next_out,a=e.output,l=e.avail_out,s=e.next_in,i=e.input,d=e.avail_in,h=n.hold,c=n.bits,n.mode===G&&(n.back=-1);break}for(n.back=0;ze=n.lencode[h&(1<<n.lenbits)-1],q=ze>>>24,$=ze>>>16&255,be=65535&ze,!(q<=c);){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}if($&&0===(240&$)){for(ye=q,we=$,ve=be;ze=n.lencode[ve+((h&(1<<ye+we)-1)>>ye)],q=ze>>>24,$=ze>>>16&255,be=65535&ze,!(ye+q<=c);){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}h>>>=ye,c-=ye,n.back+=ye}if(h>>>=q,c-=q,n.back+=q,n.length=be,0===$){n.mode=ue;break}if(32&$){n.back=-1,n.mode=G;break}if(64&$){e.msg="invalid literal/length code",n.mode=_e;break}n.extra=15&$,n.mode=oe;case oe:if(n.extra){for(Se=n.extra;c<Se;){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=de;case de:for(;ze=n.distcode[h&(1<<n.distbits)-1],q=ze>>>24,$=ze>>>16&255,be=65535&ze,!(q<=c);){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}if(0===(240&$)){for(ye=q,we=$,ve=be;ze=n.distcode[ve+((h&(1<<ye+we)-1)>>ye)],q=ze>>>24,$=ze>>>16&255,be=65535&ze,!(ye+q<=c);){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}h>>>=ye,c-=ye,n.back+=ye}if(h>>>=q,c-=q,n.back+=q,64&$){e.msg="invalid distance code",n.mode=_e;break}n.offset=be,n.extra=15&$,n.mode=le;case le:if(n.extra){for(Se=n.extra;c<Se;){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=_e;break}n.mode=fe;case fe:if(0===l)break e;if(m=_-l,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=_e;break}m>n.wnext?(m-=n.wnext,g=n.wsize-m):g=n.wnext-m,m>n.length&&(m=n.length),F=n.window}else F=a,g=o-n.offset,m=n.length;m>l&&(m=l),l-=m,n.length-=m;do a[o++]=F[g++];while(--m);0===n.length&&(n.mode=se);break;case ue:if(0===l)break e;a[o++]=n.length,l--,n.mode=se;break;case he:if(n.wrap){for(;c<32;){if(0===d)break e;d--,h|=i[s++]<<c,c+=8}if(_-=l,e.total_out+=_,n.total+=_,_&&(e.adler=n.check=n.flags?w(n.check,a,_,o-_):y(n.check,a,_,o-_)),_=l,(n.flags?h:r(h))!==n.check){e.msg="incorrect data check",n.mode=_e;break}h=0,c=0}n.mode=ce;case ce:if(n.wrap&&n.flags){for(;c<32;){if(0===d)break e;d--,h+=i[s++]<<c,c+=8}if(h!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=_e;break}h=0,c=0}n.mode=pe;case pe:xe=T;break e;case _e:xe=B;break e;case me:return D;case ge:default:return I}return e.next_out=o,e.avail_out=l,e.next_in=s,e.avail_in=d,n.hold=h,n.bits=c,(n.wsize||_!==e.avail_out&&n.mode<_e&&(n.mode<he||t!==z))&&u(e,e.output,e.next_out,_-e.avail_out)?(n.mode=me,D):(p-=e.avail_in,_-=e.avail_out,e.total_in+=p,e.total_out+=_,n.total+=_,n.wrap&&_&&(e.adler=n.check=n.flags?w(n.check,a,_,e.next_out-_):y(n.check,a,_,e.next_out-_)),e.data_type=n.bits+(n.last?64:0)+(n.mode===G?128:0)+(n.mode===ae||n.mode===ee?256:0),(0===p&&0===_||t===z)&&xe===O&&(xe=L),xe)}function c(e){if(!e||!e.state)return I;var t=e.state;return t.window&&(t.window=null),e.state=null,O}function p(e,t){var r;return e&&e.state?(r=e.state,0===(2&r.wrap)?I:(r.head=t,t.done=!1,O)):I}function _(e,t){var r,n,i,a=t.length;return e&&e.state?(r=e.state,0!==r.wrap&&r.mode!==W?I:r.mode===W&&(n=1,n=y(n,t,a,0),n!==r.check)?B:(i=u(e,t,a,a))?(r.mode=me,D):(r.havedict=1,O)):I}var m,g,b=i(F),y=i(q),w=i($),v=i(Be),k=i(Ne),x=0,E=1,S=2,z=4,A=5,C=6,O=0,T=1,R=2,I=-2,B=-3,D=-4,L=-5,N=8,Z=1,P=2,U=3,j=4,M=5,H=6,X=7,Y=8,V=9,K=10,W=11,G=12,J=13,Q=14,ee=15,te=16,re=17,ne=18,ie=19,ae=20,se=21,oe=22,de=23,le=24,fe=25,ue=26,he=27,ce=28,pe=29,_e=30,me=31,ge=32,be=852,ye=592,we=15,ve=we,ke=!0;t.inflateReset=s,t.inflateReset2=o,t.inflateResetKeep=a,t.inflateInit=l,t.inflateInit2=d,t.inflate=h,t.inflateEnd=c,t.inflateGetHeader=p,t.inflateSetDictionary=_,t.inflateInfo="pako inflate (from Nodeca project)"}),Ze=i(Fe),Pe=Fe.inflateInfo,Ue=Fe.inflateSetDictionary,je=Fe.inflateGetHeader,Me=Fe.inflateEnd,He=Fe.inflate,Xe=Fe.inflateInit2,Ye=Fe.inflateInit,Ve=Fe.inflateResetKeep,Ke=Fe.inflateReset2,qe=Fe.inflateReset,We=Object.freeze({default:Ze,inflateInfo:Pe,inflateSetDictionary:Ue,inflateGetHeader:je,inflateEnd:Me,inflate:He,inflateInit2:Xe,inflateInit:Ye,inflateResetKeep:Ve,inflateReset2:Ke,inflateReset:qe}),Ge=a(function(e){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}}),$e=i(Ge),Je=Ge.Z_NO_FLUSH,Qe=Ge.Z_PARTIAL_FLUSH,et=Ge.Z_SYNC_FLUSH,tt=Ge.Z_FULL_FLUSH,rt=Ge.Z_FINISH,nt=Ge.Z_BLOCK,it=Ge.Z_TREES,at=Ge.Z_OK,st=Ge.Z_STREAM_END,ot=Ge.Z_NEED_DICT,dt=Ge.Z_ERRNO,lt=Ge.Z_STREAM_ERROR,ft=Ge.Z_DATA_ERROR,ut=Ge.Z_BUF_ERROR,ht=Ge.Z_NO_COMPRESSION,ct=Ge.Z_BEST_SPEED,pt=Ge.Z_BEST_COMPRESSION,_t=Ge.Z_DEFAULT_COMPRESSION,mt=Ge.Z_FILTERED,gt=Ge.Z_HUFFMAN_ONLY,bt=Ge.Z_RLE,yt=Ge.Z_FIXED,wt=Ge.Z_DEFAULT_STRATEGY,vt=Ge.Z_BINARY,kt=Ge.Z_TEXT,xt=Ge.Z_UNKNOWN,Et=Ge.Z_DEFLATED,St=Object.freeze({default:$e,Z_NO_FLUSH:Je,Z_PARTIAL_FLUSH:Qe,Z_SYNC_FLUSH:et,Z_FULL_FLUSH:tt,Z_FINISH:rt,Z_BLOCK:nt,Z_TREES:it,Z_OK:at,Z_STREAM_END:st,Z_NEED_DICT:ot,Z_ERRNO:dt,Z_STREAM_ERROR:lt,Z_DATA_ERROR:ft,Z_BUF_ERROR:ut,Z_NO_COMPRESSION:ht,Z_BEST_SPEED:ct,Z_BEST_COMPRESSION:pt,Z_DEFAULT_COMPRESSION:_t,Z_FILTERED:mt,Z_HUFFMAN_ONLY:gt,Z_RLE:bt,Z_FIXED:yt,Z_DEFAULT_STRATEGY:wt,Z_BINARY:vt,Z_TEXT:kt,Z_UNKNOWN:xt,Z_DEFLATED:Et}),zt=a(function(e){function t(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=t}),At=i(zt),Ct=Object.freeze({default:At}),Ot=a(function(e,t){function r(e){if(!(this instanceof r))return new r(e);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=s.inflateInit2(this.strm,t.windowBits);if(n!==l.Z_OK)throw new Error(f[n]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function n(e,t){var n=new r(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}function a(e,t){return t=t||{},t.raw=!0,n(e,t)}var s=i(We),o=i(F),d=i(we),l=i(St),f=i(ee),u=i(xe),h=i(Ct),c=Object.prototype.toString;r.prototype.push=function(e,t){var r,n,i,a,f,u,h=this.strm,p=this.options.chunkSize,_=this.options.dictionary,m=!1;if(this.ended)return!1;n=t===~~t?t:t===!0?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof e?h.input=d.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?h.input=new Uint8Array(e):h.input=e,h.next_in=0,h.avail_in=h.input.length;do{if(0===h.avail_out&&(h.output=new o.Buf8(p),h.next_out=0,h.avail_out=p),r=s.inflate(h,l.Z_NO_FLUSH),r===l.Z_NEED_DICT&&_&&(u="string"==typeof _?d.string2buf(_):"[object ArrayBuffer]"===c.call(_)?new Uint8Array(_):_,r=s.inflateSetDictionary(this.strm,u)),r===l.Z_BUF_ERROR&&m===!0&&(r=l.Z_OK,m=!1),r!==l.Z_STREAM_END&&r!==l.Z_OK)return this.onEnd(r),this.ended=!0,!1;h.next_out&&(0!==h.avail_out&&r!==l.Z_STREAM_END&&(0!==h.avail_in||n!==l.Z_FINISH&&n!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(i=d.utf8border(h.output,h.next_out),a=h.next_out-i,f=d.buf2string(h.output,i),h.next_out=a,h.avail_out=p-a,a&&o.arraySet(h.output,h.output,i,a,0),this.onData(f)):this.onData(o.shrinkBuf(h.output,h.next_out)))),0===h.avail_in&&0===h.avail_out&&(m=!0)}while((h.avail_in>0||0===h.avail_out)&&r!==l.Z_STREAM_END);return r===l.Z_STREAM_END&&(n=l.Z_FINISH),n===l.Z_FINISH?(r=s.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l.Z_OK):n!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),h.avail_out=0,!0)},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){e===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=r,t.inflate=n,t.inflateRaw=a,t.ungzip=n}),Tt=i(Ot),Rt=Ot.ungzip,It=Ot.inflateRaw,Bt=Ot.inflate,Dt=Ot.Inflate,Lt=Object.freeze({default:Tt,ungzip:Rt,inflateRaw:It,inflate:Bt,Inflate:Dt}),Nt=a(function(e){var t=i(F).assign,r=i(Te),n=i(Lt),a=i(St),s={};t(s,r,n,a),e.exports=s}),Ft=i(Nt),Zt=Object.freeze({default:Ft}),Pt=a(function(e,t){var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=i(Zt);t.uncompressInputType=r?"uint8array":"array",t.compressInputType=r?"uint8array":"array",t.magic="\b\0",t.compress=function(e,t){return n.deflateRaw(e,{level:t.level||-1})},t.uncompress=function(e){return n.inflateRaw(e)}}),Ut=i(Pt),jt=Pt.uncompress,Mt=Pt.compress,Ht=Pt.magic,Xt=Pt.compressInputType,Yt=Pt.uncompressInputType,Vt=Object.freeze({default:Ut,uncompress:jt,compress:Mt,magic:Ht,compressInputType:Xt,uncompressInputType:Yt}),Kt=a(function(e,t){t.STORE={magic:"\0\0",compress:function(e,t){return e},uncompress:function(e){return e},compressInputType:null,uncompressInputType:null},t.DEFLATE=i(Vt)}),qt=i(Kt),Wt=Kt.DEFLATE,Gt=Kt.STORE,$t=Object.freeze({default:qt,DEFLATE:Wt,STORE:Gt}),Jt=a(function(e){e.exports=function(e,t){return new Buffer(e,t)},e.exports.test=function(e){return Buffer.isBuffer(e)}}),Qt=i(Jt),er=Jt.test,tr=Object.freeze({default:Qt,test:er}),rr=a(function(e,t){function r(e){return e}function n(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}function a(e){var r=65536,n=[],i=e.length,a=t.getTypeOf(e),s=0,o=!0;try{switch(a){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,l(0))}}catch(e){o=!1}if(!o){for(var d="",f=0;f<e.length;f++)d+=String.fromCharCode(e[f]);return d}for(;s<i&&r>1;)try{"array"===a||"nodebuffer"===a?n.push(String.fromCharCode.apply(null,e.slice(s,Math.min(s+r,i)))):n.push(String.fromCharCode.apply(null,e.subarray(s,Math.min(s+r,i)))),s+=r}catch(e){r=Math.floor(r/2)}return n.join("")}function s(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}var o=i(C),d=i($t),l=i(tr);t.string2binary=function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(255&e.charCodeAt(r));return t},t.arrayBuffer2Blob=function(e,r){t.checkSupport("blob"),r=r||"application/zip";try{return new Blob([e],{type:r})}catch(t){try{var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=new n;return i.append(e),i.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}},t.applyFromCharCode=a;var f={};f.string={string:r,array:function(e){return n(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return n(e,new Uint8Array(e.length))},nodebuffer:function(e){return n(e,l(e.length))}},f.array={string:a,array:r,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return l(e)}},f.arraybuffer={string:function(e){return a(new Uint8Array(e))},array:function(e){return s(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:r,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return l(new Uint8Array(e))}},f.uint8array={string:a,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:r,nodebuffer:function(e){return l(e)}},f.nodebuffer={string:a,array:function(e){return s(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return s(e,new Uint8Array(e.length))},nodebuffer:r},t.transformTo=function(e,r){if(r||(r=""),!e)return r;t.checkSupport(e);var n=t.getTypeOf(r),i=f[n][e](r);return i},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":o.nodebuffer&&l.test(e)?"nodebuffer":o.uint8array&&e instanceof Uint8Array?"uint8array":o.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){var t=o[e.toLowerCase()];if(!t)throw new Error(e+" is not supported by this browser")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,r,n="";for(r=0;r<(e||"").length;r++)t=e.charCodeAt(r),n+="\\x"+(t<16?"0":"")+t.toString(16).toUpperCase();return n},t.findCompression=function(e){for(var t in d)if(d.hasOwnProperty(t)&&d[t].magic===e)return d[t];return null},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&"undefined"==typeof r[t]&&(r[t]=arguments[e][t]);return r}}),nr=i(rr),ir=rr.extend,ar=rr.isRegExp,sr=rr.findCompression,or=rr.pretty,dr=rr.MAX_VALUE_32BITS,lr=rr.MAX_VALUE_16BITS,fr=rr.checkSupport,ur=rr.getTypeOf,hr=rr.transformTo,cr=rr.applyFromCharCode,pr=rr.arrayBuffer2Blob,_r=rr.string2binary,mr=Object.freeze({default:nr,extend:ir,isRegExp:ar,findCompression:sr,pretty:or,MAX_VALUE_32BITS:dr,MAX_VALUE_16BITS:lr,checkSupport:fr,getTypeOf:ur,transformTo:hr,applyFromCharCode:cr,arrayBuffer2Blob:pr,string2binary:_r}),gr=a(function(e){var t=i(mr),r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(e,n){if("undefined"==typeof e||!e.length)return 0;var i="string"!==t.getTypeOf(e);"undefined"==typeof n&&(n=0);var a=0,s=0,o=0;n^=-1;for(var d=0,l=e.length;d<l;d++)o=i?e[d]:e.charCodeAt(d),s=255&(n^o),a=r[s],n=n>>>8^a;return n^-1}}),br=i(gr),yr=Object.freeze({default:br}),wr=a(function(e,t){t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"}),vr=i(wr),kr=wr.DATA_DESCRIPTOR,xr=wr.ZIP64_CENTRAL_DIRECTORY_END,Er=wr.ZIP64_CENTRAL_DIRECTORY_LOCATOR,Sr=wr.CENTRAL_DIRECTORY_END,zr=wr.CENTRAL_FILE_HEADER,Ar=wr.LOCAL_FILE_HEADER,Cr=Object.freeze({default:vr,DATA_DESCRIPTOR:kr,ZIP64_CENTRAL_DIRECTORY_END:xr,ZIP64_CENTRAL_DIRECTORY_LOCATOR:Er,CENTRAL_DIRECTORY_END:Sr,CENTRAL_FILE_HEADER:zr,LOCAL_FILE_HEADER:Ar}),Or=a(function(e,t){t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!1,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null}),Tr=i(Or),Rr=Or.dosPermissions,Ir=Or.unixPermissions,Br=Or.comment,Dr=Or.compressionOptions,Lr=Or.compression,Nr=Or.date,Fr=Or.createFolders,Zr=Or.dir,Pr=Or.binary,Ur=Or.base64,jr=Object.freeze({default:Tr,dosPermissions:Rr,unixPermissions:Ir,comment:Br,compressionOptions:Dr,compression:Lr,date:Nr,createFolders:Fr,dir:Zr,binary:Pr,base64:Ur}),Mr=a(function(e){function t(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}t.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=t}),Hr=i(Mr),Xr=Object.freeze({default:Hr}),Yr=a(function(e,t){for(var r=i(mr),n=i(C),a=i(tr),s=new Array(256),o=0;o<256;o++)s[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;s[254]=s[254]=1;var d=function(e){var t,r,i,a,s,o=e.length,d=0;for(a=0;a<o;a++)r=e.charCodeAt(a),55296===(64512&r)&&a+1<o&&(i=e.charCodeAt(a+1),56320===(64512&i)&&(r=65536+(r-55296<<10)+(i-56320),a++)),d+=r<128?1:r<2048?2:r<65536?3:4;for(t=n.uint8array?new Uint8Array(d):new Array(d),s=0,a=0;s<d;a++)r=e.charCodeAt(a),55296===(64512&r)&&a+1<o&&(i=e.charCodeAt(a+1),56320===(64512&i)&&(r=65536+(r-55296<<10)+(i-56320),a++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|63&r):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|63&r):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|63&r);return t},l=function(e,t){var r;for(t=t||e.length,t>e.length&&(t=e.length),r=t-1;r>=0&&128===(192&e[r]);)r--;return r<0?t:0===r?t:r+s[e[r]]>t?r:t},f=function(e){var t,n,i,a,o=e.length,d=new Array(2*o);for(n=0,t=0;t<o;)if(i=e[t++],i<128)d[n++]=i;else if(a=s[i],a>4)d[n++]=65533,t+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&t<o;)i=i<<6|63&e[t++],a--;a>1?d[n++]=65533:i<65536?d[n++]=i:(i-=65536,d[n++]=55296|i>>10&1023,d[n++]=56320|1023&i)}return d.length!==n&&(d.subarray?d=d.subarray(0,n):d.length=n),r.applyFromCharCode(d)};t.utf8encode=function(e){return n.nodebuffer?a(e,"utf-8"):d(e)},t.utf8decode=function(e){if(n.nodebuffer)return r.transformTo("nodebuffer",e).toString("utf-8");e=r.transformTo(n.uint8array?"uint8array":"array",e);for(var t=[],i=0,a=e.length,s=65536;i<a;){var o=l(e,Math.min(i+s,a));n.uint8array?t.push(f(e.subarray(i,o))):t.push(f(e.slice(i,o))),i=o}return t.join("")}}),Vr=i(Yr),Kr=Yr.utf8decode,qr=Yr.utf8encode,Wr=Object.freeze({default:Vr,utf8decode:Kr,utf8encode:qr}),Gr=a(function(e){var t=i(mr),r=function(){this.data=[]};r.prototype={append:function(e){e=t.transformTo("string",e),this.data.push(e)},finalize:function(){return this.data.join("")}},e.exports=r}),$r=i(Gr),Jr=Object.freeze({default:$r}),Qr=a(function(e){var t=i(mr),r=function(e){this.data=new Uint8Array(e),this.index=0};r.prototype={append:function(e){0!==e.length&&(e=t.transformTo("uint8array",e),this.data.set(e,this.index),this.index+=e.length)},finalize:function(){return this.data}},e.exports=r}),en=i(Qr),tn=Object.freeze({default:en}),rn=a(function(e){var t=i(C),r=i(mr),n=i(yr),a=i(Cr),s=i(jr),o=i(b),d=i($t),l=i(Xr),f=i(tr),u=i(Wr),h=i(Jr),c=i(tn),p=function(e){if(e._data instanceof l&&(e._data=e._data.getContent(),e.options.binary=!0,e.options.base64=!1,"uint8array"===r.getTypeOf(e._data))){var t=e._data;e._data=new Uint8Array(t.length),0!==t.length&&e._data.set(t,0)}return e._data},_=function(e){var n=p(e),i=r.getTypeOf(n);return"string"===i?!e.options.binary&&t.nodebuffer?f(n,"utf-8"):e.asBinary():n},m=function(e){var t=p(this);return null===t||"undefined"==typeof t?"":(this.options.base64&&(t=o.decode(t)),t=e&&this.options.binary?T.utf8decode(t):r.transformTo("string",t),e||this.options.binary||(t=r.transformTo("string",T.utf8encode(t))),
t)},g=function(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this.options=r,this._initialMetadata={dir:r.dir,date:r.date}};g.prototype={asText:function(){return m.call(this,!0)},asBinary:function(){return m.call(this,!1)},asNodeBuffer:function(){var e=_(this);return r.transformTo("nodebuffer",e)},asUint8Array:function(){var e=_(this);return r.transformTo("uint8array",e)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var y=function(e,t){var r,n="";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n},w=function(e){return e=e||{},e.base64!==!0||null!==e.binary&&void 0!==e.binary||(e.binary=!0),e=r.extend(e,s),e.date=e.date||new Date,null!==e.compression&&(e.compression=e.compression.toUpperCase()),e},v=function(e,t,n){var i,a=r.getTypeOf(t);if(n=w(n),"string"==typeof n.unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(e=x(e)),n.createFolders&&(i=k(e))&&E.call(this,i,!0),n.dir||null===t||"undefined"==typeof t)n.base64=!1,n.binary=!1,t=null,a=null;else if("string"===a)n.binary&&!n.base64&&n.optimizedBinaryString!==!0&&(t=r.string2binary(t));else{if(n.base64=!1,n.binary=!0,!(a||t instanceof l))throw new Error("The data of '"+e+"' is in an unsupported format !");"arraybuffer"===a&&(t=r.transformTo("uint8array",t))}var s=new g(e,t,n);return this.files[e]=s,s},k=function(e){"/"==e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},x=function(e){return"/"!=e.slice(-1)&&(e+="/"),e},E=function(e,t){return t="undefined"!=typeof t&&t,e=x(e),this.files[e]||v.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]},S=function(e,t,i){var a,s=new l;return e._data instanceof l?(s.uncompressedSize=e._data.uncompressedSize,s.crc32=e._data.crc32,0===s.uncompressedSize||e.dir?(t=d.STORE,s.compressedContent="",s.crc32=0):e._data.compressionMethod===t.magic?s.compressedContent=e._data.getCompressedContent():(a=e._data.getContent(),s.compressedContent=t.compress(r.transformTo(t.compressInputType,a),i))):(a=_(e),a&&0!==a.length&&!e.dir||(t=d.STORE,a=""),s.uncompressedSize=a.length,s.crc32=n(a),s.compressedContent=t.compress(r.transformTo(t.compressInputType,a),i)),s.compressedSize=s.compressedContent.length,s.compressionMethod=t.magic,s},z=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16},A=function(e,t){return 63&(e||0)},O=function(e,t,i,s,o,d){var l,f,h,c,p=(i.compressedContent,d!==u.utf8encode),_=r.transformTo("string",d(t.name)),m=r.transformTo("string",u.utf8encode(t.name)),g=t.comment||"",b=r.transformTo("string",d(g)),w=r.transformTo("string",u.utf8encode(g)),v=m.length!==t.name.length,k=w.length!==g.length,x=t.options,E="",S="",C="";h=t._initialMetadata.dir!==t.dir?t.dir:x.dir,c=t._initialMetadata.date!==t.date?t.date:x.date;var O=0,T=0;h&&(O|=16),"UNIX"===o?(T=798,O|=z(t.unixPermissions,h)):(T=20,O|=A(t.dosPermissions,h)),l=c.getHours(),l<<=6,l|=c.getMinutes(),l<<=5,l|=c.getSeconds()/2,f=c.getFullYear()-1980,f<<=4,f|=c.getMonth()+1,f<<=5,f|=c.getDate(),v&&(S=y(1,1)+y(n(_),4)+m,E+="up"+y(S.length,2)+S),k&&(C=y(1,1)+y(this.crc32(b),4)+w,E+="uc"+y(C.length,2)+C);var R="";R+="\n\0",R+=p||!v&&!k?"\0\0":"\0\b",R+=i.compressionMethod,R+=y(l,2),R+=y(f,2),R+=y(i.crc32,4),R+=y(i.compressedSize,4),R+=y(i.uncompressedSize,4),R+=y(_.length,2),R+=y(E.length,2);var I=a.LOCAL_FILE_HEADER+R+_+E,B=a.CENTRAL_FILE_HEADER+y(T,2)+R+y(b.length,2)+"\0\0\0\0"+y(O,4)+y(s,4)+_+E+b;return{fileRecord:I,dirRecord:B,compressedObject:i}},T={load:function(e,t){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(e){var t,n,i,a,s=[];for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],a=new g(i.name,i._data,r.extend(i.options)),n=t.slice(this.root.length,t.length),t.slice(0,this.root.length)===this.root&&e(n,a)&&s.push(a));return s},file:function(e,t,n){if(1===arguments.length){if(r.isRegExp(e)){var i=e;return this.filter(function(e,t){return!t.dir&&i.test(e)})}return this.filter(function(t,r){return!r.dir&&t===e})[0]||null}return e=this.root+e,v.call(this,e,t,n),this},folder:function(e){if(!e)return this;if(r.isRegExp(e))return this.filter(function(t,r){return r.dir&&e.test(t)});var t=this.root+e,n=E.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!=e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter(function(t,r){return r.name.slice(0,e.length)===e}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(e){e=r.extend(e||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode}),r.checkSupport(e.type),"darwin"!==e.platform&&"freebsd"!==e.platform&&"linux"!==e.platform&&"sunos"!==e.platform||(e.platform="UNIX"),"win32"===e.platform&&(e.platform="DOS");var t,n,i=[],s=0,l=0,f=r.transformTo("string",e.encodeFileName(e.comment||this.comment||""));for(var p in this.files)if(this.files.hasOwnProperty(p)){var _=this.files[p],m=_.options.compression||e.compression.toUpperCase(),g=d[m];if(!g)throw new Error(m+" is not a valid compression method !");var b=_.options.compressionOptions||e.compressionOptions||{},w=S.call(this,_,g,b),v=O.call(this,p,_,w,s,e.platform,e.encodeFileName);s+=v.fileRecord.length+w.compressedSize,l+=v.dirRecord.length,i.push(v)}var k="";k=a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+y(i.length,2)+y(i.length,2)+y(l,4)+y(s,4)+y(f.length,2)+f;var x=e.type.toLowerCase();for(t="uint8array"===x||"arraybuffer"===x||"blob"===x||"nodebuffer"===x?new c(s+l+k.length):new h(s+l+k.length),n=0;n<i.length;n++)t.append(i[n].fileRecord),t.append(i[n].compressedObject.compressedContent);for(n=0;n<i.length;n++)t.append(i[n].dirRecord);t.append(k);var E=t.finalize();switch(e.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return r.transformTo(e.type.toLowerCase(),E);case"blob":return r.arrayBuffer2Blob(r.transformTo("arraybuffer",E),e.mimeType);case"base64":return e.base64?o.encode(E):E;default:return E}},crc32:function(e,t){return n(e,t)},utf8encode:function(e){return r.transformTo("string",u.utf8encode(e))},utf8decode:function(e){return u.utf8decode(e)}};e.exports=T}),nn=i(rn),an=Object.freeze({default:nn}),sn=a(function(e){function t(e){this.data=null,this.length=0,this.index=0,this.zero=0}var r=i(mr);t.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date((e>>25&127)+1980,(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1)}},e.exports=t}),on=i(sn),dn=Object.freeze({default:on}),ln=a(function(e){function t(e,t){this.data=e,t||(this.data=n.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}var r=i(dn),n=i(mr);t.prototype=new r,t.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},t.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},t.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=t}),fn=i(ln),un=Object.freeze({default:fn}),hn=a(function(e){function t(e){if(e){this.data=e,this.length=this.data.length,this.index=0,this.zero=0;for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}}var r=i(dn);t.prototype=new r,t.prototype.byteAt=function(e){return this.data[this.zero+e]},t.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===t&&this.data[a+1]===r&&this.data[a+2]===n&&this.data[a+3]===i)return a-this.zero;return-1},t.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=t}),cn=i(hn),pn=Object.freeze({default:cn}),_n=a(function(e){function t(e){e&&(this.data=e,this.length=this.data.length,this.index=0,this.zero=0)}var r=i(pn);t.prototype=new r,t.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=t}),mn=i(_n),gn=Object.freeze({default:mn}),bn=a(function(e){function t(e){this.data=e,this.length=this.data.length,this.index=0,this.zero=0}var r=i(gn);t.prototype=new r,t.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=t}),yn=i(bn),wn=Object.freeze({default:yn}),vn=a(function(e){function t(e,t){this.options=e,this.loadOptions=t}var r=i(un),n=i(mr),a=i(Xr),s=i(an),o=i(C),d=0,l=3;t.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},prepareCompressedContent:function(e,t,r){return function(){var n=e.index;e.setIndex(t);var i=e.readData(r);return e.setIndex(n),i}},prepareContent:function(e,t,r,i,a){return function(){var e=n.transformTo(i.uncompressInputType,this.getCompressedContent()),t=i.uncompress(e);if(t.length!==a)throw new Error("Bug : uncompressed data size mismatch");return t}},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),this.compressedSize==-1||this.uncompressedSize==-1)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(t=n.findCompression(this.compressionMethod),null===t)throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");if(this.decompressed=new a,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(e,e.index,this.compressedSize,t),this.decompressed.getContent=this.prepareContent(e,e.index,this.compressedSize,t,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=n.transformTo("string",this.decompressed.getContent()),s.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(e){if(this.versionMadeBy=e.readInt(2),this.versionNeeded=e.readInt(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4),this.fileNameLength=e.readInt(2),this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=e.readData(this.fileNameLength),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e===d&&(this.dosPermissions=63&this.externalFileAttributes),e===l&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=new r(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index;for(this.extraFields=this.extraFields||{};e.index<i+this.extraFieldsLength;)t=e.readInt(2),r=e.readInt(2),n=e.readString(r),this.extraFields[t]={id:t,length:r,value:n}},handleUTF8:function(){var e=o.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=n.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var a=n.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=new r(e.value);return 1!==t.readInt(1)?null:s.crc32(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readString(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=new r(e.value);return 1!==t.readInt(1)?null:s.crc32(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readString(e.length-5))}return null}},e.exports=t}),kn=i(vn),xn=Object.freeze({default:kn}),En=a(function(e){function t(e,t){this.files=[],this.loadOptions=t,e&&this.load(e)}var r=i(un),n=i(wn),a=i(gn),s=i(pn),o=i(mr),d=i(Cr),l=i(xn),f=i(C);i(an);t.prototype={checkSignature:function(e){var t=this.reader.readString(4);if(t!==e)throw new Error("Corrupted zip or bug : unexpected signature ("+o.pretty(t)+", expected "+o.pretty(e)+")")},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4),i=n===t;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=f.uint8array?"uint8array":"array",r=o.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44,i=0;i<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readString(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(d.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===d.CENTRAL_FILE_HEADER;)e=new l({zip64:this.zip64},this.loadOptions),e.readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(d.CENTRAL_DIRECTORY_END);if(e<0){var t=!this.isSignature(0,d.LOCAL_FILE_HEADER);throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip : can't find end of central directory")}this.reader.setIndex(e);var r=e;if(this.checkSignature(d.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,e=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),e<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,d.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(d.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=r-n;if(i>0)this.isSignature(r,d.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){var t=o.getTypeOf(e);if(o.checkSupport(t),"string"!==t||f.uint8array)if("nodebuffer"===t)this.reader=new n(e);else if(f.uint8array)this.reader=new a(o.transformTo("uint8array",e));else{if(!f.array)throw new Error("Unexpected error: unsupported type '"+t+"'");this.reader=new s(o.transformTo("array",e))}else this.reader=new r(e,this.loadOptions.optimizedBinaryString)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=t}),Sn=i(En),zn=Object.freeze({default:Sn}),An=a(function(e){var t=i(b),r=i(Wr),n=i(mr),a=i(zn);e.exports=function(e,i){var s,o,d,l;for(i=n.extend(i||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode}),i.base64&&(e=t.decode(e)),o=new a(e,i),s=o.files,d=0;d<s.length;d++)l=s[d],this.file(l.fileNameStr,l.decompressed,{binary:!0,optimizedBinaryString:!0,date:l.date,dir:l.dir,comment:l.fileCommentStr.length?l.fileCommentStr:null,unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions,createFolders:i.createFolders});return o.zipComment.length&&(this.comment=o.zipComment),this}}),Cn=i(An),On=Object.freeze({default:Cn}),Tn=a(function(e,t){var r=i(mr);t.string2binary=function(e){return r.string2binary(e)},t.string2Uint8Array=function(e){return r.transformTo("uint8array",e)},t.uint8Array2String=function(e){return r.transformTo("string",e)},t.string2Blob=function(e){var t=r.transformTo("arraybuffer",e);return r.arrayBuffer2Blob(t)},t.arrayBuffer2Blob=function(e){return r.arrayBuffer2Blob(e)},t.transformTo=function(e,t){return r.transformTo(e,t)},t.getTypeOf=function(e){return r.getTypeOf(e)},t.checkSupport=function(e){return r.checkSupport(e)},t.MAX_VALUE_16BITS=r.MAX_VALUE_16BITS,t.MAX_VALUE_32BITS=r.MAX_VALUE_32BITS,t.pretty=function(e){return r.pretty(e)},t.findCompression=function(e){return r.findCompression(e)},t.isRegExp=function(e){return r.isRegExp(e)}}),Rn=i(Tn),In=Tn.isRegExp,Bn=Tn.findCompression,Dn=Tn.pretty,Ln=Tn.MAX_VALUE_32BITS,Nn=Tn.MAX_VALUE_16BITS,Fn=Tn.checkSupport,Zn=Tn.getTypeOf,Pn=Tn.transformTo,Un=Tn.arrayBuffer2Blob,jn=Tn.string2Blob,Mn=Tn.uint8Array2String,Hn=Tn.string2Uint8Array,Xn=Tn.string2binary,Yn=Object.freeze({default:Rn,isRegExp:In,findCompression:Bn,pretty:Dn,MAX_VALUE_32BITS:Ln,MAX_VALUE_16BITS:Nn,checkSupport:Fn,getTypeOf:Zn,transformTo:Pn,arrayBuffer2Blob:Un,string2Blob:jn,uint8Array2String:Mn,string2Uint8Array:Hn,string2binary:Xn}),Vn=a(function(e){function t(e,r){return this instanceof t?(this.files={},this.comment=null,this.root="",e&&this.load(e,r),void(this.clone=function(){var e=new t;for(var r in this)"function"!=typeof this[r]&&(e[r]=this[r]);return e})):new t(e,r)}var r=i(b);t.prototype=i(an),t.prototype.load=i(On),t.support=i(C),t.defaults=i(jr),t.utils=i(Yn),t.base64={encode:function(e){return r.encode(e)},decode:function(e){return r.decode(e)}},t.compressions=i($t),e.exports=t}),Kn=i(Vn);!function(e){var t=e.prototype,r=t.parseFromString;try{if((new e).parseFromString("","text/html"))return}catch(e){}t.parseFromString=function(e,t){if(/^\s*text\/html\s*(?:;|$)/i.test(t)){var n=document.implementation.createHTMLDocument("");return e.toLowerCase().indexOf("<!doctype")>-1?n.documentElement.innerHTML=e:n.body.innerHTML=e,n}return r.apply(this,arguments)}}(DOMParser);var qn=function(e){var t=e.split("/");return 0===t[0].length?(t.shift(),t.pop(),t.join("/")):(t.pop(),t.join("/"))},Wn=function(e){var t=e.split("/"),r=t.slice(-1)[0];return r},Gn=function(e,t){if(t.match(/^\//))return t;for(var r=e.split("/").reverse(),n=t.split("/").reverse(),i=[],a=0,s=n.length;a<s;a++){var o=n[a];switch(o){case".":i=i.concat(r),r=[];break;case"..":r.length>0?r.shift():i.push(o);break;default:o===r[0]&&r.shift(),i.push(o)}}return i.concat(r).reverse().join("/")},$n={dirname:qn,filename:Wn,normalizePath:Gn},Jn=Jn||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,r=function(){return e.URL||e.webkitURL||e},n=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in n,a=function(r){var n=t.createEvent("MouseEvents");n.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),r.dispatchEvent(n)},s=e.webkitRequestFileSystem,o=e.requestFileSystem||s||e.mozRequestFileSystem,d=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},l="application/octet-stream",f=0,u=10,h=function(t){var n=function(){"string"==typeof t?r().revokeObjectURL(t):t.remove()};e.chrome?n():setTimeout(n,u)},c=function(e,t,r){t=[].concat(t);for(var n=t.length;n--;){var i=e["on"+t[n]];if("function"==typeof i)try{i.call(e,r||e)}catch(e){d(e)}}},p=function(t,d){var u,p,_,m=this,g=t.type,b=!1,y=function(){c(m,"writestart progress write writeend".split(" "))},w=function(){if(!b&&u||(u=r().createObjectURL(t)),p)p.location.href=u;else{var n=e.open(u,"_blank");void 0==n&&"undefined"!=typeof safari&&(e.location.href=u)}m.readyState=m.DONE,y(),h(u)},v=function(e){return function(){if(m.readyState!==m.DONE)return e.apply(this,arguments)}},k={create:!0,exclusive:!1};return m.readyState=m.INIT,d||(d="download"),i?(u=r().createObjectURL(t),n.href=u,n.download=d,a(n),m.readyState=m.DONE,y(),void h(u)):(e.chrome&&g&&g!==l&&(_=t.slice||t.webkitSlice,t=_.call(t,0,t.size,l),b=!0),s&&"download"!==d&&(d+=".download"),(g===l||s)&&(p=e),o?(f+=t.size,void o(e.TEMPORARY,f,v(function(e){e.root.getDirectory("saved",k,v(function(e){var r=function(){e.getFile(d,k,v(function(e){e.createWriter(v(function(r){r.onwriteend=function(t){p.location.href=e.toURL(),m.readyState=m.DONE,c(m,"writeend",t),h(e)},r.onerror=function(){var e=r.error;e.code!==e.ABORT_ERR&&w()},"writestart progress write abort".split(" ").forEach(function(e){r["on"+e]=m["on"+e]}),r.write(t),m.abort=function(){r.abort(),m.readyState=m.DONE},m.readyState=m.WRITING}),w)}),w)};e.getFile(d,{create:!1},v(function(e){e.remove(),r()}),v(function(e){e.code===e.NOT_FOUND_ERR?r():w()}))}),w)}),w)):void w())},_=p.prototype,m=function(e,t){return new p(e,t)};return _.abort=function(){var e=this;e.readyState=e.DONE,c(e,"abort")},_.readyState=_.INIT=0,_.WRITING=1,_.DONE=2,_.error=_.onwritestart=_.onprogress=_.onwrite=_.onabort=_.onerror=_.onwriteend=null,m}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);"undefined"!=typeof module&&null!==module?module.exports=Jn:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return Jn});var Qn="index.html",ei={name:"project",files:{},scrolling:"no",size:null},ti=function(e){var r=JSON.parse(e),n=t.merge(ei,r),i=null;if(n.index&&(console.warn('Deprecated: use "index.html" instead of "index"'),i=n.index,delete n.index),n[Qn]&&(i&&console.warn("Index document was already defined and will be overwritten"),i=n[Qn],delete n[Qn]),n.files[Qn]&&(i&&console.warn("Index document was already defined and will be overwritten"),i=n.files[Qn]),!i)throw new Error('"index.html" must be defined');n=t.assocPath(["files",Qn],i,n);var a=[],o=n.files;for(var d in o)if(d){var l=o[d],f="string"==typeof l?{source:l}:l;f.target||(f.target=d),f.template||(f.template=null),f.target===Qn&&(n.index=f),a.push(f)}return n.files=a,n.size=s(n.size),n},ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},ni=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ii=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),ai=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},si=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},oi=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},di=e.PropTypes.shape({title:e.PropTypes.string.isRequired,id:e.PropTypes.number.isRequired,index:e.PropTypes.number,path:e.PropTypes.string,src:e.PropTypes.string,pages:e.PropTypes.array,styles:e.PropTypes.array.isRequired,scripts:e.PropTypes.array.isRequired,imports:e.PropTypes.object.isRequired,hideFromMenu:e.PropTypes.boolean}),li=e.PropTypes.arrayOf(di),fi=e.PropTypes.shape({basePath:e.PropTypes.string.isRequired,page:di.isRequired,getSpecimen:e.PropTypes.func.isRequired,theme:e.PropTypes.object.isRequired,title:e.PropTypes.string.isRequired,pages:li.isRequired,pageTree:li.isRequired,logoSrc:e.PropTypes.string}),ui=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},hi=function(e,t,r){return t.map(function(t){var n=new RegExp("([\"'])([./a-z0-9]*"+ui($n.filename(t.source))+")([\"'])","gi");r.replace(n,function(r,n,i,a){var s=t.source===$n.normalizePath(e,i)?t.target:i;return n+s+a})}),r},ci=function(e){function t(){ni(this,t);var e=oi(this,Object.getPrototypeOf(t).call(this));return e.state={tab:null,sourceCode:null},e}return si(t,e),ii(t,[{key:"componentDidMount",value:function(){this.loadSourceCode()}},{key:"componentDidUpdate",value:function(){this.state.sourceCode||this.state.error||this.loadSourceCode()}},{key:"selectTab",value:function(e,t){var r=t.currentTarget.getAttribute("data-tab-id");e.setState({sourceCode:null,tab:r===this.state.tab?null:r})}},{key:"loadSourceCode",value:function(){var e=this,t=this.props.sourceFiles;if(this.state.tab){var r=t[this.state.tab];fetch(r.source).then(function(e){return e.text()}).then(function(t){var r=e.parseSourceCode(t);e.setState({sourceCode:hi(e.props.rootPath,e.props.files,r)})}).catch(function(t){e.setState({error:t,sourceCode:null})})}}},{key:"parseSourceCode",value:function(e,t){if(t){var r=(new DOMParser).parseFromString(e,"text/html"),n=r.querySelectorAll("[data-catalog-project-expose]");return n.map(function(e){e.removeAttribute("data-catalog-project-expose")}),t.replace("${yield}",r.body.innerHTML),t}return e}},{key:"render",value:function(){var e=this,t=this.props,r=t.sourceFiles,n=t.theme,i=u(n),a=r.length>1?r.map(function(t,r){var n=r===parseInt(e.state.tab,10)?i.active:void 0;return c.createElement("div",{onClick:e.selectTab.bind(e,e),key:r,"data-tab-id":r,style:[i.button,n]},t.target)}):null,s=this.state.tab?c.createElement("textarea",{style:i.source,value:this.state.sourceCode?this.state.sourceCode:"Loading ",readOnly:"true"}):null;return c.createElement("div",{className:"cg-Specimen-TabbedSourceView"},a,s)}}]),t}(c.Component);ci.propTypes={sourceFiles:e.PropTypes.array.isRequired,theme:e.PropTypes.object.isRequired,rootPath:e.PropTypes.string,files:e.PropTypes.array};var pi=r(ci),_i=/\.(jpe?g|gif|png)$/,mi=function(e){return _i.test(e)},gi=function(e){function r(){return ni(this,r),oi(this,Object.getPrototypeOf(r).apply(this,arguments))}return si(r,e),ii(r,[{key:"sourceViewFiles",value:function(e){return e.files.filter(function(r){return t.contains(r.target,t.or(e.sourceView,[]))})}},{key:"filterMatching",value:function(e,t){}},{key:"parseExposedFiles",value:function(e){for(var t=(new DOMParser).parseFromString(e,"text/html"),r=[],n=t.querySelectorAll("[data-catalog-project-expose]"),i=0,a=n.length;i<a;i++){var s=n[i],o=s.getAttribute("data-catalog-project-expose");s.removeAttribute("data-catalog-project-expose"),r.push({path:o,content:s.innerHTML})}return r}},{key:"download",value:function(e,r){var n=this;r.preventDefault();var i=new Kn,a=i.folder(e.name),s=$n.dirname(e.index.source),o=[],d=e.files.map(function(r){return new Promise(function(i,a){if(mi(r.source)){var d=function(){var e=new XMLHttpRequest;return e.open("GET",r.source,!0),e.responseType="arraybuffer",e.onload=function(){return i({path:r.target,content:e.response})},e.onerror=a,{v:e.send(null)}}();if("object"===("undefined"==typeof d?"undefined":ri(d)))return d.v}return fetch(r.source,{headers:{Accept:"text/plain,*/*"}}).then(function(e){return e.text()}).then(function(a){var d=t.contains(n.sourceViewFiles(e),r)?hi(s,e.files,a):a;return r===e.index?(o=o.concat(n.parseExposedFiles(d)),r.template?fetch(r.template,{headers:{Accept:"text/plain,*/*"}}).then(function(e){return e.text()}).then(function(e){for(var t=(new DOMParser).parseFromString(d,"text/html"),n=t.querySelectorAll("[data-catalog-project-expose]"),a=0,s=n.length;a<s;a++){var l=n[a],f=l.getAttribute("data-catalog-project-expose");l.removeAttribute("data-catalog-project-expose"),l.setAttribute("src",f),l.innerHTML=""}return o.push({path:$n.filename(r.template),content:e.replace("${yield}",t.body.innerHTML)}),d=d.replace(/\s+data-catalog-project-expose=[\"\'].+?[\"\']/,""),i({path:r.target,content:d})}):(d=d.replace(/\s+data-catalog-project-expose=[\"\'].+?[\"\']/,""),i({path:r.target,content:d}))):i({path:r.target,content:d})}).catch(a)})});Promise.all(d).then(function(t){t.forEach(function(e){return a.file(e.path,e.content,{binary:mi(e.path)})}),o.forEach(function(e){return a.file(e.path,e.content,{binary:mi(e.path)})});var r=i.generate({type:"blob"});return Jn(r,e.name+".zip")}).catch(function(e){throw new Error("Preparing ZIP file failed",e)})}},{key:"render",value:function(){var e=this.props.catalog.theme,t=this.props.rawBody,r=ti(t),n=r.index,i=r.scrolling,a=r.files,s=r.size,o=h(e),d=this.sourceViewFiles(r);
return c.createElement("div",{className:"cg-Specimen-Project",style:o.container},s&&c.createElement("iframe",{src:n.source,scrolling:i,marginHeight:"0",marginWidth:"0",style:[ai({},o.frame),s]})||c.createElement("div",{style:{display:"flex",flexFlow:"row wrap"}},c.createElement("iframe",{src:n.source,scrolling:i,marginHeight:"0",marginWidth:"0",style:[ai({},o.frame),{width:"100%",height:"700px"}]}),c.createElement("iframe",{src:n.source,scrolling:i,marginHeight:"0",marginWidth:"0",style:[ai({},o.frame,{margin:"0 10px 20px 0"}),{width:"375px",height:"667px"}]}),c.createElement("iframe",{src:n.source,scrolling:i,marginHeight:"0",marginWidth:"0",style:[ai({},o.frame,{margin:"0 0 20px 10px"}),{width:"320px",height:"568px"}]})),c.createElement("div",{style:o.tabBar},c.createElement("a",{key:"new-window",style:o.link,href:n.source,target:"_blank"},"Open in new tab"),c.createElement("a",{key:"download",style:o.link,href:"#",onClick:this.download.bind(this,r)},"Download as .zip"),c.createElement(pi,{rootPath:$n.dirname(n.source),files:a,theme:e,sourceFiles:d})))}}]),r}(c.Component);gi.propTypes={catalog:fi.isRequired,rawBody:e.PropTypes.object.isRequired};var bi=n()(r(gi));return bi});
