{"version":3,"file":"treemap.js","sources":["../../src/component/treemap.ts"],"sourcesContent":[null],"names":["component","prop","transition","containerWidth","containerHeight","showLabels","fn","label","d","data","key","labelPosition","render","inputData","selection","select","props","layout","d3Treemap","tile","treemapSquarify","size","round","paddingInner","paddingOuter","flatten","node","result","children","child","_tag","push","treemapData","visibleData","filter","x1","x0","y1","y0","rectangles","selectAll","join","classed","attr","ancestors","length","parent","colorScale","defaultTransition","fontSize","calculateLabelPosition","position","padding","x","y","labelAcc","labelXAcc","labelYAcc","labelFillAcc","bgColor","getAccessibleTextColor","labelData","labels","style","text","remove","tooltipPosition","ta","tooltipAnchor","call"],"mappings":"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"}