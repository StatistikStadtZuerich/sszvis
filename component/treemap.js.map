{"version":3,"file":"treemap.js","sources":["../../src/component/treemap.ts"],"sourcesContent":[null],"names":["component","prop","transition","containerWidth","containerHeight","showLabels","fn","label","d","data","key","labelPosition","render","inputData","selection","select","props","layout","d3Treemap","tile","treemapSquarify","size","round","paddingInner","paddingOuter","flatten","node","result","children","child","_tag","push","treemapData","visibleData","filter","x1","x0","y1","y0","rectangles","selectAll","join","classed","attr","rootKey","colorScale","ancestors","topLevelCategory","find","_","i","_ancestors","length","style","onClick","on","event","_props$onClick","call","defaultTransition","fontSize","calculateLabelPosition","position","padding","x","y","labelAcc","labelXAcc","labelYAcc","labelFillAcc","bgColor","_ancestors2","getAccessibleTextColor","labelData","labels","text","remove","tooltipPosition","ta","tooltipAnchor"],"mappings":"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"}