{"version":3,"file":"sankey.js","sources":["../../src/component/sankey.js"],"sourcesContent":[null],"names":["linkPathString","x0","x1","x2","x3","y0","y1","linkBounds","component","prop","fn","columnLabel","columnLabelOffset","linkCurvature","linkSort","a","b","value","labelSide","labelOpacity","labelHitBoxSize","nameLabel","linkSourceLabels","linkTargetLabels","render","data","selection","select","props","idAcc","getNodePosition","node","Math","floor","columnPadding","columnIndex","sizeScale","valueOffset","nodePadding","nodeIndex","xPosition","columnPosition","yPosition","xExtent","max","nodeThickness","yExtent","ceil","linkPadding","barGen","bar","x","y","width","height","fill","nodeColor","barGroup","selectGroup","datum","nodes","call","barTooltipAnchor","tooltipAnchor","position","columnLabelX","colIndex","columnLabelY","columnLabels","selectAll","columnLengths","join","attr","d","i","translateString","text","columnLabelTicks","halfPixel","linkPoints","link","curveStart","src","curveEnd","tgt","startLevel","srcOffset","endLevel","tgtOffset","linkPath","points","curveInterp","interpolateNumber","curveControlPtA","curveControlPtB","linkBoundingBox","linkThickness","linksGroup","linksElems","links","linkColor","sort","linkTooltipAnchor","bbox","linkLabelsGroup","linkLabel","getLabelSide","side","labelSideSwitch","nodeLabelsGroup","barLabels","id","style","barLabelHitBoxes"],"mappings":"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"}