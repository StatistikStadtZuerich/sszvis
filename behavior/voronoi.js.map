{"version":3,"file":"voronoi.js","sources":["../../src/behavior/voronoi.ts"],"sourcesContent":[null],"names":["event","dispatch","voronoiComponent","component","prop","render","data","selection","select","props","bounds","logger","delaunay","Delaunay","from","d","x","y","voronoi","polys","selectAll","cellPolygons","join","attr","concat","on","e","parent","parentNode","cbox","getBoundingClientRect","datumIdx","find","clientX","left","clientY","top","eventNearPoint","apply","_len","arguments","length","args","Array","_key","firstTouch","fn","preventDefault","elementContext","pan","touchEvent","element","elementFromEvent","panDatum","datumFromPannableElement","panParent","panCbox","cancelable","end","debug","_len2","_key2","value","MAX_INTERACTION_RADIUS_SQUARED","point","dx","dy"],"mappings":"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"}