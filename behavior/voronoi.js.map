{"version":3,"file":"voronoi.js","sources":["../../src/behavior/voronoi.ts"],"sourcesContent":[null],"names":["event","dispatch","voronoiComponent","component","prop","render","data","selection","select","props","bounds","logger","delaunay","Delaunay","from","d","x","y","voronoi","polys","selectAll","cellPolygons","join","attr","concat","on","e","parent","parentNode","cbox","getBoundingClientRect","datumIdx","find","clientX","left","clientY","top","eventNearPoint","apply","firstTouch","fn","preventDefault","elementContext","pan","touchEvent","element","elementFromEvent","panDatum","datumFromPannableElement","panParent","panCbox","cancelable","end","debug","_len","arguments","length","args","Array","_key","value","MAX_INTERACTION_RADIUS_SQUARED","point","dx","dy"],"mappings":"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"}